!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("glitchlib",[],n):"object"==typeof exports?exports.glitchlib=n():t.glitchlib=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=8)}([function(t,n){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,n){(function(n){t.exports=n}).call(n,{})},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,e){"use strict";function r(t){return{type:"jpeg",data:t,sections:(0,a.default)(t)}}function o(t){return r(t.data.slice())}function i(t,n){return n.sections.filter(function(n){return n.section===t})}Object.defineProperty(n,"__esModule",{value:!0}),n.Jpeg=r,n.copy=o,n.getSections=i;var u=e(5),a=function(t){return t&&t.__esModule?t:{default:t}}(u)},function(t,n,e){"use strict";function r(t,n,e){return{section:t,size:n,position:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.Section=r;var o=n.STARTBYTE=255;n.PADBYTE=0,n.SOF0={name:"SOF0",tag:new Uint8Array([o,192])},n.SOF2={name:"SOF2",tag:new Uint8Array([o,194])},n.DHT={name:"DHT",tag:new Uint8Array([o,196])},n.DQT={name:"DQT",tag:new Uint8Array([o,219])},n.SOS={name:"SOS",tag:new Uint8Array([o,218])},n.SOI={name:"SOI",tag:new Uint8Array([o,216])},n.EOI={name:"EOI",tag:new Uint8Array([o,217])},n.COM={name:"COM",tag:new Uint8Array([o,254])},n.APP={name:"SOS",upper:new Uint8Array([o,239]),lower:new Uint8Array([o,224]),tag:new Uint8Array([o,224])}},function(t,n,e){"use strict";function r(t,n){return c.find(function(e){return e.parses(t,n)})}function o(t,n,e){if(e>=t.length)return n;var i=t[e],u=t[e+1];if(i!==a.STARTBYTE)throw new Error("Invalid initial tag value: "+i.toString(16));var c=r(i,u);if(void 0===c)throw new Error("Could not find parser for "+u.toString(16));var f=c.parseData(t,e),s=e+f.size;return o(t,n.concat([f]),s)}function i(t){return o(t,[],0)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var u=e(9),a=e(4),c=[new u.JpegSOIParser,new u.JpegSectionParser(a.SOF0),new u.JpegSectionParser(a.SOF2),new u.JpegSectionParser(a.DHT),new u.JpegSectionParser(a.DQT),new u.JpegSOSParser,new u.JpegAPPParser,new u.JpegSectionParser(a.COM),new u.JpegEOIParser]},function(t,n,e){"use strict";function r(t,n){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,s.default)(e.seed,{entropy:!e.seed}),o=e.depth||.1,i=n.position+2;i<n.position+n.size;i+=1)r()<o&&(t.data[i]=Math.floor(253*r()+1))}function o(t){var n=(0,c.copy)(t);return(0,u.getSections)(a.DQT.name,n).forEach(function(t){return r(n,t)}),n}function i(t,n){var e=(0,c.copy)(t);return(0,u.getSections)(a.DQT.name,e).filter(function(t,e){return!n||!n.quantTable||"all"===n.quantTable||e===n.quantTable}).forEach(function(t){return r(e,t,n)}),e}Object.defineProperty(n,"__esModule",{value:!0}),n.glitchQuantisationTable=r,n.randomQuantGlitch=o,n.quantGlitch=i;var u=e(3),a=e(4),c=e(3),f=e(10),s=function(t){return t&&t.__esModule?t:{default:t}}(f)},function(t,n,e){"use strict";function r(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.95;t.toBlob(function(t){var e=new FileReader;e.onload=u(n),e.readAsArrayBuffer(t)},"image/jpeg",e)}function o(t,n){console.log("loading image from jpeg");var e=URL.createObjectURL(new Blob([t.data]),{type:"image/jpeg"}),r=new Image;r.onload=function(){console.log("image loaded"),n(r)},r.src=e}Object.defineProperty(n,"__esModule",{value:!0}),n.fileToUint8=void 0,n.jpegFromCanvas=r,n.imageFromJpeg=o;var i=e(3),u=n.fileToUint8=function(t){return function(n){t((0,i.Jpeg)(new Uint8Array(n.target.result)))}}},function(t,n,e){"use strict";function r(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}Object.defineProperty(n,"__esModule",{value:!0}),n.Jpeg=n.utils=n.randomQuantGlitch=n.quantGlitch=n.decodeJpeg=void 0;var o=e(5),i=function(t){return t&&t.__esModule?t:{default:t}}(o),u=e(6),a=e(3),c=r(a),f=e(7),s=r(f);n.decodeJpeg=i.default,n.quantGlitch=u.quantGlitch,n.randomQuantGlitch=u.randomQuantGlitch,n.utils=s,n.Jpeg=c},function(t,n,e){"use strict";function r(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.JpegAPPParser=n.JpegSOSParser=n.JpegEOIParser=n.JpegSOIParser=n.JpegSectionParser=void 0;var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=e(4),c=n.JpegSectionParser=function(){function t(n){i(this,t),this.pTag=n.tag,this.name=n.name,this.pTagSize=n.tag.length}return u(t,[{key:"parses",value:function(t,n){return this.pTag[0]===t&&this.pTag[1]===n}},{key:"parseData",value:function(t,n){var e=n+this.pTagSize,r=8*t[e]+t[e+1],o=this.pTagSize+r;return(0,a.Section)(this.name,o,n)}}]),t}();n.JpegSOIParser=function(t){function n(){return i(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,a.SOI))}return o(n,t),u(n,[{key:"parseData",value:function(t,n){return(0,a.Section)(this.name,2,n)}}]),n}(c),n.JpegEOIParser=function(t){function n(){return i(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,a.EOI))}return o(n,t),u(n,[{key:"parseData",value:function(t,n){return(0,a.Section)(this.name,2,n)}}]),n}(c),n.JpegSOSParser=function(t){function n(){return i(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,a.SOS))}return o(n,t),u(n,[{key:"parseData",value:function(t,n){var e=n+this.pTagSize,r=8*t[e]+t[e+1],o=this.pTagSize+r,i=void 0;for(i=n+o;i<t.length&&(t[i]!==a.STARTBYTE||t[i+1]===a.PADBYTE);i+=1);var u=i-n;return(0,a.Section)(this.name,u,n)}}]),n}(c),n.JpegAPPParser=function(t){function n(){i(this,n);var t=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,a.APP));return t.pTagUpper=a.APP.upper,t.pTagLower=a.APP.lower,t}return o(n,t),u(n,[{key:"parses",value:function(t,n){return this.pTagLower[0]===t&&this.pTagLower[1]<=n&&this.pTagUpper[1]>=n}}]),n}(c)},function(t,n,e){var r=e(11),o=e(13),i=e(16),u=e(15),a=e(14),c=e(12),f=e(17);f.alea=r,f.xor128=o,f.xorwow=i,f.xorshift7=u,f.xor4096=a,f.tychei=c,t.exports=f},function(t,n,e){(function(t){var r;!function(t,o,i){function u(t){var n=this,e=f();n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=e(" "),n.s1=e(" "),n.s2=e(" "),n.s0-=e(t),n.s0<0&&(n.s0+=1),n.s1-=e(t),n.s1<0&&(n.s1+=1),n.s2-=e(t),n.s2<0&&(n.s2+=1),e=null}function a(t,n){return n.c=t.c,n.s0=t.s0,n.s1=t.s1,n.s2=t.s2,n}function c(t,n){var e=new u(t),r=n&&n.state,o=e.next;return o.int32=function(){return 4294967296*e.next()|0},o.double=function(){return o()+1.1102230246251565e-16*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&a(r,e),o.state=function(){return a(e,{})}),o}function f(){var t=4022871197;return function(n){n=n.toString();for(var e=0;e<n.length;e++){t+=n.charCodeAt(e);var r=.02519603282416938*t;t=r>>>0,r-=t,r*=t,t=r>>>0,r-=t,t+=4294967296*r}return 2.3283064365386963e-10*(t>>>0)}}o&&o.exports?o.exports=c:e(0)&&e(1)?void 0!==(r=function(){return c}.call(n,e,n,o))&&(o.exports=r):this.alea=c}(0,"object"==typeof t&&t,e(0))}).call(n,e(2)(t))},function(t,n,e){(function(t){var r;!function(t,o,i){function u(t){var n=this,e="";n.next=function(){var t=n.b,e=n.c,r=n.d,o=n.a;return t=t<<25^t>>>7^e,e=e-r|0,r=r<<24^r>>>8^o,o=o-t|0,n.b=t=t<<20^t>>>12^e,n.c=e=e-r|0,n.d=r<<16^e>>>16^o,n.a=o-t|0},n.a=0,n.b=0,n.c=-1640531527,n.d=1367130551,t===Math.floor(t)?(n.a=t/4294967296|0,n.b=0|t):e+=t;for(var r=0;r<e.length+20;r++)n.b^=0|e.charCodeAt(r),n.next()}function a(t,n){return n.a=t.a,n.b=t.b,n.c=t.c,n.d=t.d,n}function c(t,n){var e=new u(t),r=n&&n.state,o=function(){return(e.next()>>>0)/4294967296};return o.double=function(){do{var t=e.next()>>>11,n=(e.next()>>>0)/4294967296,r=(t+n)/(1<<21)}while(0===r);return r},o.int32=e.next,o.quick=o,r&&("object"==typeof r&&a(r,e),o.state=function(){return a(e,{})}),o}o&&o.exports?o.exports=c:e(0)&&e(1)?void 0!==(r=function(){return c}.call(n,e,n,o))&&(o.exports=r):this.tychei=c}(0,"object"==typeof t&&t,e(0))}).call(n,e(2)(t))},function(t,n,e){(function(t){var r;!function(t,o,i){function u(t){var n=this,e="";n.x=0,n.y=0,n.z=0,n.w=0,n.next=function(){var t=n.x^n.x<<11;return n.x=n.y,n.y=n.z,n.z=n.w,n.w^=n.w>>>19^t^t>>>8},t===(0|t)?n.x=t:e+=t;for(var r=0;r<e.length+64;r++)n.x^=0|e.charCodeAt(r),n.next()}function a(t,n){return n.x=t.x,n.y=t.y,n.z=t.z,n.w=t.w,n}function c(t,n){var e=new u(t),r=n&&n.state,o=function(){return(e.next()>>>0)/4294967296};return o.double=function(){do{var t=e.next()>>>11,n=(e.next()>>>0)/4294967296,r=(t+n)/(1<<21)}while(0===r);return r},o.int32=e.next,o.quick=o,r&&("object"==typeof r&&a(r,e),o.state=function(){return a(e,{})}),o}o&&o.exports?o.exports=c:e(0)&&e(1)?void 0!==(r=function(){return c}.call(n,e,n,o))&&(o.exports=r):this.xor128=c}(0,"object"==typeof t&&t,e(0))}).call(n,e(2)(t))},function(t,n,e){(function(t){var r;!function(t,o,i){function u(t){var n=this;n.next=function(){var t,e,r=n.w,o=n.X,i=n.i;return n.w=r=r+1640531527|0,e=o[i+34&127],t=o[i=i+1&127],e^=e<<13,t^=t<<17,e^=e>>>15,t^=t>>>12,e=o[i]=e^t,n.i=i,e+(r^r>>>16)|0},function(t,n){var e,r,o,i,u,a=[],c=128;for(n===(0|n)?(r=n,n=null):(n+="\0",r=0,c=Math.max(c,n.length)),o=0,i=-32;i<c;++i)n&&(r^=n.charCodeAt((i+32)%n.length)),0===i&&(u=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(u=u+1640531527|0,e=a[127&i]^=r+u,o=0==e?o+1:0);for(o>=128&&(a[127&(n&&n.length||0)]=-1),o=127,i=512;i>0;--i)r=a[o+34&127],e=a[o=o+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,a[o]=r^e;t.w=u,t.X=a,t.i=o}(n,t)}function a(t,n){return n.i=t.i,n.w=t.w,n.X=t.X.slice(),n}function c(t,n){null==t&&(t=+new Date);var e=new u(t),r=n&&n.state,o=function(){return(e.next()>>>0)/4294967296};return o.double=function(){do{var t=e.next()>>>11,n=(e.next()>>>0)/4294967296,r=(t+n)/(1<<21)}while(0===r);return r},o.int32=e.next,o.quick=o,r&&(r.X&&a(r,e),o.state=function(){return a(e,{})}),o}o&&o.exports?o.exports=c:e(0)&&e(1)?void 0!==(r=function(){return c}.call(n,e,n,o))&&(o.exports=r):this.xor4096=c}(0,"object"==typeof t&&t,e(0))}).call(n,e(2)(t))},function(t,n,e){(function(t){var r;!function(t,o,i){function u(t){var n=this;n.next=function(){var t,e,r=n.x,o=n.i;return t=r[o],t^=t>>>7,e=t^t<<24,t=r[o+1&7],e^=t^t>>>10,t=r[o+3&7],e^=t^t>>>3,t=r[o+4&7],e^=t^t<<7,t=r[o+7&7],t^=t<<13,e^=t^t<<9,r[o]=e,n.i=o+1&7,e},function(t,n){var e,r=[];if(n===(0|n))r[0]=n;else for(n=""+n,e=0;e<n.length;++e)r[7&e]=r[7&e]<<15^n.charCodeAt(e)+r[e+1&7]<<13;for(;r.length<8;)r.push(0);for(e=0;e<8&&0===r[e];++e);for(8==e?r[7]=-1:r[e],t.x=r,t.i=0,e=256;e>0;--e)t.next()}(n,t)}function a(t,n){return n.x=t.x.slice(),n.i=t.i,n}function c(t,n){null==t&&(t=+new Date);var e=new u(t),r=n&&n.state,o=function(){return(e.next()>>>0)/4294967296};return o.double=function(){do{var t=e.next()>>>11,n=(e.next()>>>0)/4294967296,r=(t+n)/(1<<21)}while(0===r);return r},o.int32=e.next,o.quick=o,r&&(r.x&&a(r,e),o.state=function(){return a(e,{})}),o}o&&o.exports?o.exports=c:e(0)&&e(1)?void 0!==(r=function(){return c}.call(n,e,n,o))&&(o.exports=r):this.xorshift7=c}(0,"object"==typeof t&&t,e(0))}).call(n,e(2)(t))},function(t,n,e){(function(t){var r;!function(t,o,i){function u(t){var n=this,e="";n.next=function(){var t=n.x^n.x>>>2;return n.x=n.y,n.y=n.z,n.z=n.w,n.w=n.v,(n.d=n.d+362437|0)+(n.v=n.v^n.v<<4^t^t<<1)|0},n.x=0,n.y=0,n.z=0,n.w=0,n.v=0,t===(0|t)?n.x=t:e+=t;for(var r=0;r<e.length+64;r++)n.x^=0|e.charCodeAt(r),r==e.length&&(n.d=n.x<<10^n.x>>>4),n.next()}function a(t,n){return n.x=t.x,n.y=t.y,n.z=t.z,n.w=t.w,n.v=t.v,n.d=t.d,n}function c(t,n){var e=new u(t),r=n&&n.state,o=function(){return(e.next()>>>0)/4294967296};return o.double=function(){do{var t=e.next()>>>11,n=(e.next()>>>0)/4294967296,r=(t+n)/(1<<21)}while(0===r);return r},o.int32=e.next,o.quick=o,r&&("object"==typeof r&&a(r,e),o.state=function(){return a(e,{})}),o}o&&o.exports?o.exports=c:e(0)&&e(1)?void 0!==(r=function(){return c}.call(n,e,n,o))&&(o.exports=r):this.xorwow=c}(0,"object"==typeof t&&t,e(0))}).call(n,e(2)(t))},function(t,n,e){var r;!function(o,i){function u(t,n,e){var r=[];n=1==n?{entropy:!0}:n||{};var u=s(f(n.entropy?[t,p(o)]:null==t?l():t,3),r),d=new a(r),h=function(){for(var t=d.g(v),n=y,e=0;t<w;)t=(t+e)*g,n*=g,e=d.g(1);for(;t>=b;)t/=2,n/=2,e>>>=1;return(t+e)/n};return h.int32=function(){return 0|d.g(4)},h.quick=function(){return d.g(4)/4294967296},h.double=h,s(p(d.S),o),(n.pass||e||function(t,n,e,r){return r&&(r.S&&c(r,d),t.state=function(){return c(d,{})}),e?(i[x]=t,n):t})(h,u,"global"in n?n.global:this==i,n.state)}function a(t){var n,e=t.length,r=this,o=0,i=r.i=r.j=0,u=r.S=[];for(e||(t=[e++]);o<g;)u[o]=o++;for(o=0;o<g;o++)u[o]=u[i=S&i+t[o%e]+(n=u[o])],u[i]=n;(r.g=function(t){for(var n,e=0,o=r.i,i=r.j,u=r.S;t--;)n=u[o=S&o+1],e=e*g+u[S&(u[o]=u[i=S&i+n])+(u[i]=n)];return r.i=o,r.j=i,e})(g)}function c(t,n){return n.i=t.i,n.j=t.j,n.S=t.S.slice(),n}function f(t,n){var e,r=[],o=typeof t;if(n&&"object"==o)for(e in t)try{r.push(f(t[e],n-1))}catch(t){}return r.length?r:"string"==o?t:t+"\0"}function s(t,n){for(var e,r=t+"",o=0;o<r.length;)n[S&o]=S&(e^=19*n[S&o])+r.charCodeAt(o++);return p(n)}function l(){try{var t;return d&&(t=d.randomBytes)?t=t(g):(t=new Uint8Array(g),(h.crypto||h.msCrypto).getRandomValues(t)),p(t)}catch(t){var n=h.navigator,e=n&&n.plugins;return[+new Date,h,e,h.screen,p(o)]}}function p(t){return String.fromCharCode.apply(0,t)}var d,h=this,g=256,v=6,x="random",y=i.pow(g,v),w=i.pow(2,52),b=2*w,S=g-1;if(i["seed"+x]=u,s(i.random(),o),"object"==typeof t&&t.exports){t.exports=u;try{d=e(18)}catch(t){}}else void 0!==(r=function(){return u}.call(n,e,n,t))&&(t.exports=r)}([],Math)},function(t,n){}])});